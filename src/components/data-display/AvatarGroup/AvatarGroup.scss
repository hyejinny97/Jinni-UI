@use 'sass:map';

$border-width: (
  xs: 1px,
  sm: 1px,
  md: 2px,
  lg: 3px,
  xl: 4px
);

$letter-spacing: (
  xs: -2px,
  sm: -2px,
  md: -3px,
  lg: -3.5px,
  xl: -4px
);

$avatar-spacing: (
  sm: -0.4,
  md: -0.3,
  lg: -0.2
);

@mixin spacing-between-avatars {
  @each $spacing in 'sm', 'md', 'lg' {
    &.#{$spacing} {
      .JinniAvatar + .JinniAvatar {
        margin-right: calc(
          var(--avatar-width) * map.get($avatar-spacing, $spacing)
        );
      }
    }
  }
}

@mixin avatar-style-by-size {
  @each $size in 'xs', 'sm', 'md', 'lg', 'xl' {
    &.#{$size} {
      border: solid map.get($border-width, $size) white;
      letter-spacing: map.get($letter-spacing, $size);
    }
  }
}

.JinniAvatarGroup {
  display: inline-flex;
  flex-direction: row-reverse;
  @include spacing-between-avatars;

  .JinniAvatar {
    position: relative;
    box-sizing: border-box;
    @include avatar-style-by-size;

    &.surplus-avatar {
      background-color: var(--jinni-color-gray-400);
      color: var(--jinni-color-gray-50);
    }
  }
}
