@use 'sass:map';
@use '@/styles/animation';

$circular-size: (
  sm: 16px,
  md: 32px,
  lg: 48px
);

@mixin circular-size {
  @each $size in 'sm', 'md', 'lg' {
    &.#{$size} {
      width: map.get($circular-size, $size);
      height: map.get($circular-size, $size);
    }
  }
  &.isNumberSize {
    width: var(--size);
    height: var(--size);
  }
}

.JinniCircularProgress {
  display: inline-flex;
  position: relative;
  @include circular-size;

  .JinniCircularProgress-progress {
    position: absolute;
    top: 0;
    left: 0;
    transform: rotate(-90deg);

    &.indeterminate {
      animation: var(--speed) linear 0s infinite normal none running rotate;
      circle {
        stroke-dasharray: 80px, 200px;
        stroke-dashoffset: 0;
        animation: var(--speed) ease-in-out 0s infinite normal none running
          shrink-stroke;
        &.disableShrink {
          animation: none;
        }
      }
    }

    &.determinate circle {
      stroke-dasharray: var(--stroke-dasharray);
      stroke-dashoffset: var(--stroke-dashoffset);
      transition: stroke-dashoffset 0.5s ease-in-out;
    }
  }
}
